steps:
      - name: Checkout Code
        uses: actions/checkout@v4 # å»ºè®®å‡çº§åˆ° v4

      # --- 1. è¿™é‡Œæ›¿æ¢ä¸ºä½ çœŸå®çš„ Unity æµ‹è¯•/æ„å»ºæ­¥éª¤ ---
      - name: Run Build/Test
        if: github.event_name == 'push'
        run: |
          echo "æ‰§è¡Œ Unity æµ‹è¯•ä¸­..."
          # è¿™é‡Œæ”¾ä½ ä¹‹å‰çš„ unity-test-runner æ­¥éª¤ï¼Œæˆ–è€…ç®€å•çš„æ¨¡æ‹Ÿå‘½ä»¤
          # exit 1 # å–æ¶ˆæ³¨é‡Šå¯ä»¥æµ‹è¯•å¤±è´¥é€šçŸ¥
          sleep 2

      # --- 2. ä»£ç æ„å»ºç»“æœé€šçŸ¥ (æˆåŠŸæˆ–å¤±è´¥éƒ½ä¼šè§¦å‘) ---
      - name: Notify Build Status
        # always() ç¡®ä¿å‰é¢æ­¥éª¤æŒ‚äº†ä¹Ÿä¼šå‘é€šçŸ¥ï¼›ä»…åœ¨ push äº‹ä»¶æ—¶è¿è¡Œ
        if: always() && github.event_name == 'push'
        uses: foxundermoon/feishu-action@v2
        with:
          url: ${{ secrets.FEISHU_BOT_WEBHOOK_URL }}
          msg_type: post
          content: |
            post:
              zh_cn:
                # æ ¹æ® job.status åŠ¨æ€æ˜¾ç¤ºæ ‡é¢˜
                title: "é¡¹ç›®æ„å»ºç»“æœ: ${{ job.status == 'success' && 'âœ… æˆåŠŸ' || 'âŒ å¤±è´¥' }}"
                content:
                  - - tag: text
                      text: "ğŸ“¦ ä»“åº“: "
                    - tag: text
                      text: "${{ github.repository }}"
                  - - tag: text
                      text: "\nğŸ”¨ åˆ†æ”¯: "
                    - tag: text
                      text: "${{ github.ref_name }}"
                  - - tag: text
                      text: "\nğŸ‘¤ æäº¤äºº: "
                    - tag: text
                      text: "${{ github.actor }}"
                  - - tag: text
                      text: "\nğŸ“ æäº¤ä¿¡æ¯: "
                    - tag: text
                      text: "${{ github.event.head_commit.message }}"
                  - - tag: text
                      text: "\n--------------------------------"
                  - - tag: a
                      text: "ğŸ” æŸ¥çœ‹å®Œæ•´æµæ°´çº¿è¯¦æƒ…"
                      href: "https://github.com/${{ github.repository }}/actions/runs/${{ github.run_id }}"

      # --- 3. Issue åŠ¨æ€é€šçŸ¥ (ä¿æŒä¸å˜) ---
      - name: Notify Issue Update
        if: github.event_name == 'issues'
        uses: foxundermoon/feishu-action@v2
        with:
          url: ${{ secrets.FEISHU_BOT_WEBHOOK_URL }}
          msg_type: post
          content: |
            post:
              zh_cn:
                title: ğŸ§© Issue åŠ¨æ€æé†’
                content:
                  - - tag: text
                      text: "æ“ä½œ: "
                    - tag: text
                      text: "${{ github.event.action }}"
                  - - tag: text
                      text: "\nğŸ“Œ æ ‡é¢˜: "
                    - tag: text
                      text: "${{ github.event.issue.title }}"
                  - - tag: a
                      text: "\nğŸ‘‰ ç‚¹å‡»è¿›å…¥ Issue è¯¦æƒ…"
                      href: "${{ github.event.issue.html_url }}"